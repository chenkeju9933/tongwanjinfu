webpackJsonp([15],{"Du/2":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return s});var o="GET_MERCHANT",r="CHANGE_CITY",s="SET_ADDRESS"},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("mvHQ"),r=n.n(o),s=n("//Fk"),c=n.n(s),a=n("7+uW"),i={data:function(){return{tabList:[{id:"home",router:"/home",text:"首页",iconClass:"iconfont icon-home"},{id:"market",router:"/market",text:"商城",iconClass:"iconfont icon-basket"},{id:"cutdown",router:"/cutdown",text:"砍单",iconClass:"iconfont icon-40kanjia"},{id:"myInfo",router:"/myinfo",text:"我的",iconClass:"iconfont icon-myinfo"}],path:"home"}},mounted:function(){this.$route.path.indexOf()},methods:{toPage:function(e){var t={name:e};this.$router.push(t)}},watch:{$route:function(e){this.path=e.path,console.log("改变路由",e,this.path)},selected:function(e,t){console.log(e,this.$route.path)}}},u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table-bar-font",attrs:{id:"footer"}},[n("div",{staticClass:"bor-top bg-white"},[n("div",{staticClass:"flex-row"},e._l(e.tabList,function(t,o){return n("div",{staticClass:"flex-column no-slected w25 text-center",class:{isSelected:e.path.indexOf(t.router)>-1},on:{click:function(n){e.toPage(t.id)}}},[n("span",{staticClass:" mt10",class:t.iconClass}),e._v(" "),n("span",{staticClass:"mb10"},[e._v(e._s(t.text))])])}))])])};u._withStripped=!0;var d={render:u,staticRenderFns:[]},l=d;var h=n("VU/8")(i,l,!1,null,null,null);h.options.__file="src\\components\\common\\footer.vue";var m={name:"App",data:function(){return{footerShow:!0,headerShow:!0}},components:{Footer:h.exports},methods:{footerChange:function(e){e.indexOf("home")>-1||e.indexOf("cutdown")>-1||e.indexOf("myinfo")>-1?this.footerShow=!0:this.footerShow=!1},headerChange:function(e){e.indexOf("addaddress")?this.headerShow=!1:this.headerShow=!0}},mounted:function(){var e=this.$route.path.substring(1);this.footerChange(e)},watch:{$route:function(e){var t=e.path.substring(1);this.footerChange(t),this.headerChange(t)}}},f=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view"),this._v(" "),t("Footer",{directives:[{name:"show",rawName:"v-show",value:this.footerShow,expression:"footerShow"}]})],1)};f._withStripped=!0;var p={render:f,staticRenderFns:[]},y=p;var v=!1;var g=n("VU/8")(m,y,!1,function(e){v||n("e4zn")},null,null);g.options.__file="src\\App.vue";var w=g.exports,C=n("/ocq");a.default.use(C.a);var D,A=new C.a({mode:"history",routes:[{path:"/home",name:"home",component:function(e){return Promise.all([n.e(0),n.e(2)]).then(function(){var t=[n("igjh")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/cutdown",name:"cutdown",component:function(e){return Promise.all([n.e(0),n.e(10)]).then(function(){var t=[n("/gDQ")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/allList",name:"allList",component:function(e){return Promise.all([n.e(0),n.e(1)]).then(function(){var t=[n("wtox")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/activityDetail/index",name:"activityDetail",component:function(e){return n.e(13).then(function(){var t=[n("+NyU")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/cutdetail/:id",name:"cutDownDetail",component:function(e){return Promise.all([n.e(0),n.e(3)]).then(function(){var t=[n("NVEJ")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/myinfo",name:"myInfo",component:function(e){return n.e(12).then(function(){var t=[n("3jgZ")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/mycutlist",name:"myCutDownList",component:function(e){return Promise.all([n.e(0),n.e(4)]).then(function(){var t=[n("8Ezs")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/mydiscountlist",name:"myDiscountList",component:function(e){return Promise.all([n.e(0),n.e(7)]).then(function(){var t=[n("IO6B")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/addaddress",name:"addAddress",component:function(e){return n.e(5).then(function(){var t=[n("R6YD")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/myaddress",name:"myAddress",component:function(e){return Promise.all([n.e(0),n.e(11)]).then(function(){var t=[n("PpQU")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/createorder",name:"createOrder",component:function(e){return Promise.all([n.e(0),n.e(6)]).then(function(){var t=[n("GUm3")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/myorderlist",name:"myOrderList",component:function(e){return Promise.all([n.e(0),n.e(9)]).then(function(){var t=[n("jdLB")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/orderdetail",name:"orderDetail",component:function(e){return Promise.all([n.e(0),n.e(8)]).then(function(){var t=[n("B16z")];e.apply(null,t)}.bind(this)).catch(n.oe)}},{path:"/",redirect:"/home"}]}),I=n("Au9i"),L=n.n(I),S=n("mtWM"),b=n.n(S),T=n("NYxO"),O=n("UjVw"),k=n("bOdI"),E=n.n(k),U=n("Du/2"),q=n("gyMJ"),x=n("yYHA"),P=n("WCq4"),M=(q.a,D={},E()(D,U.b,function(e,t){var n={};"home"===t.type?n={start:t.start,limit:10}:"active"===t.type&&(n={start:t.start,limit:10,shopType:t.shopType,cityId:t.cityId},t.schoolId&&(n.schoolId=t.schoolId)),P.a.queryMerchant(n).then(function(n){n.data.records.length===n.data.size&&t.start++,e.merchant.homeMerchantList.push(n.data),e.merchant.homeMerchantList=Object(x.a)(e.merchant.homeMerchantList,"current"),e.merchant.homeMerchantList.forEach(function(t){e.merchant.merchantList=e.merchant.merchantList.concat(t.records)}),e.merchant.merchantList=Object(x.a)(e.merchant.merchantList,"id")}).catch(function(e){t.start=n.start-1})}),E()(D,U.a,function(e,t){e.cityInfo.city=t.city,e.cityInfo.cityId=t.cityId}),E()(D,U.c,function(e,t){e.addressInfo.countyName=t.countyName,e.addressInfo.detailInfo=t.detailInfo,e.addressInfo.isDef=t.isDef,e.addressInfo.nikeName=t.nikeName,e.addressInfo.phone=t.phone,e.addressInfo.postalCode=t.postalCode,e.addressInfo.provinceName=t.provinceName}),D),N=(q.a,{getData:function(e,t){(0,e.commit)(U.b,t)},changeCity:function(e,t){(0,e.commit)(U.a,t)},setAddress:function(e,t){(0,e.commit)(U.c,t)}});a.default.use(T.a);var H=new T.a.Store({state:{merchant:{param:{type:""},merchantList:[],homeMerchantList:[],moreMerchantList:[]},cityInfo:{city:"杭州",cityId:2},addressInfo:{cityName:"",countyName:"",detailInfo:"",isDef:0,nikeName:"",phone:"",postalCode:"",provinceName:""}},getters:O,mutations:M,actions:N}),V=(n("d8/S"),n("uKUT"),n("rqsT"),n("j1bm"));function j(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(t);return null!=n?unescape(n[2]):null}function _(){window.location.href.indexOf("state=01")>=0&&(window.location.href="https://creditcard.cmbc.com.cn/wsv2/?etr=RZ0sn1tvLXif3fF1HtfDH7rOuCH79xOCeAlZXS+rLef8AkP727TfRc3/5DN+Rgym234qjpHlY3ALB49Tgb0wcF8ZVdMz6wHJHJ7SnPrw49JQSNe0CqtAAyeEsQJKODYbro/vvnJ7s+LMGuN6r7ynxWO/pbYjiucpBTq6XhkKHSef4gCD5hieWAVcgsQ6Mz1Lmk57FAX8IevWGOLoUmEVqnED2o2YtDf38Y9Ei4/rltScZUbCI6Vxj+yUFPpiQ1fEZdq5WkpNsiyBEUjyYxTJz0ZU2BZ73cliJwtm//1TTgHGyZBdCF8w5WOiFaNjeTrmdVbhqk3tSlDROtsDdFwXGxVleREpgfEwMrpgh4Y0LUhANLLngZbM5y/muQkhxiVTXB/Swa7xjS9DdMo4PraHttfVY/TqT20W5xZeJtXp3hSEPUK2hQOhVcihhChV/M1A5Iq9aUbDlWLtPKYvMRk6dYd9FNbmbAukkklMikw5PoffXATCSR0nHAL0AJK3c9U9")}a.default.component("barcode",V.a),a.default.config.devtools=!0,a.default.prototype.$http=q.a,a.default.prototype.GLOBAL={data:function(){return{globalData:{userInfo:null,openId:null,havLogin:!1,cityId:null,cityName:"杭州市",citys:[],cityList:[],windowWidth:0,windowHeight:0,locationType:[1,2,3,4],host:"https://tapi.tongyuenet.com",sysInfo:{},api:{getCommissionDetail:"/partnerComm/selectCommInfoByUserId",getFlowDetail:"/partnerComm/selectCommByUserId",getPartner:"/user/selectUserMember",getPartnerTotal:"/user/selectUserMemStats",getColumn:"/cms/kms/koeCategory/selectKoeCategroy",getColumnList:"/cms/kms/koeArticle/1",getCityList:"/cms/dict/location/selectLocationTree",getSchoolList:"/cms/dict/location/selectSchools",emailConfirm:"/cms/system/email/sendEmailCheck",emailVerificationCodeConfirm:"/cms/system/email/checkEmailCode",sendMessageVerificationCode:"/cms/system/sms/sendVidifySms",messageVerificationCodeConfirm:"/cms/system/sms/smsCodeCheck",activityRegistration:"/cms/user/activityApply/save",activityList:"/cms/shop/shopActivity/selectByPage",shopActivityDetail:"/cms/shop/shopActivity/detail",activityApply:"/cms/user/activityApply/save",selectShopTypes:"/cms/shop/shopType/selectTypes",updateUserInfo:"/wechat/min/updateUserInfo",selectCutDownList:"/cms/shop/cutDown/selectCutDownList",selectOneCutDown:"/cms/shop/cutDown/selectOne",createCutDown:"/cms/shop/cutDown/createCutDown",helpCutDown:"/cms/shop/cutDown/helpCutDown",cutDownHelpers:"/cms/shop/cutDown/cutDownHelpers",myCutDownList:"/cms/user/userCutDown/selectUserCutDownActivityInfoPage",getUserCoupon:"/cms/user/coupon/selectByPage",insertAddress:"/cms/user/deliveryAddress/insertAddress",getAddress:"/cms/user/deliveryAddress/getAddress",setDefAddress:"/cms/user/deliveryAddress/setDef",delAddress:"/cms/user/deliveryAddress/delAddress"}}}}},a.default.use(L.a,b.a),a.default.config.productionTip=!1,b.a.interceptors.request.use(function(e){var t=localStorage.getItem("token");return t&&(e.headers.Authorization=t,console.log(t)),e},function(e){return c.a.reject(e)}),localStorage.getItem("user")||localStorage.setItem("user","");var B=localStorage.setItem;localStorage.setItem=function(e,t){var n=new Event("setItemEvent");n.newValue=t,window.dispatchEvent(n),B.apply(this,arguments)},function(){var e=localStorage.getItem("username"),t=localStorage.getItem("user");if(window.location.href.indexOf("code")>=0)!function(){var e={code:j("code"),state:j("state")};P.a.queryMpLogin(e).then(function(e){var t=e.data,n=e.data.token,o=e.data.body.wxUser.userId;console.log(e.data),localStorage.setItem("username",o),localStorage.setItem("user",r()(t)),localStorage.setItem("token",n)})}();else if(t)_();else if(e){var n={userId:e};P.a.Logain(n).then(function(e){localStorage.setItem("token",r()(e.data)),localStorage.setItem("username",t),localStorage.setItem("token",e.token),console.log("sdufjhiahfuhagufhuafghuijghfsuihu"),window.location.href="https://creditcard.cmbc.com.cn/wsv2/?etr=RZ0sn1tvLXif3fF1HtfDH7rOuCH79xOCeAlZXS+rLef8AkP727TfRc3/5DN+Rgym234qjpHlY3ALB49Tgb0wcF8ZVdMz6wHJHJ7SnPrw49JQSNe0CqtAAyeEsQJKODYbro/vvnJ7s+LMGuN6r7ynxWO/pbYjiucpBTq6XhkKHSef4gCD5hieWAVcgsQ6Mz1Lmk57FAX8IevWGOLoUmEVqnED2o2YtDf38Y9Ei4/rltScZUbCI6Vxj+yUFPpiQ1fEZdq5WkpNsiyBEUjyYxTJz0ZU2BZ73cliJwtm//1TTgHGyZBdCF8w5WOiFaNjeTrmdVbhqk3tSlDROtsDdFwXGxVleREpgfEwMrpgh4Y0LUhANLLngZbM5y/muQkhxiVTXB/Swa7xjS9DdMo4PraHttfVY/TqT20W5xZeJtXp3hSEPUK2hQOhVcihhChV/M1A5Iq9aUbDlWLtPKYvMRk6dYd9FNbmbAukkklMikw5PoffXATCSR0nHAL0AJK3c9U9"}),_()}else!function(){console.log(window.location.href);var e=encodeURIComponent(window.location.href);window.location.href="https://open.weixin.qq.com/connect/oauth2/authorize?appid=wx444e7a64378e3e7b&redirect_uri="+e+"&response_type=code&scope=snsapi_userinfo&state=STAT#Ewechat_redirect&connect_redirect=1"}()}(),new a.default({el:"#app",router:A,store:H,components:{App:w},template:"<App/>"})},UjVw:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"merchant",function(){return o}),n.d(t,"addressInfo",function(){return r});var o=function(e){return e.merchant},r=function(e){return e.addressInfo}},WCq4:function(e,t,n){"use strict";var o=n("gyMJ").a,r={queryMerchant:function(e){var t=e||{};return o.get("/cms/shop/shopActivity/selectByPage",t)},queryShopDetail:function(e){var t=e||{};return o.get("/cms/shop/shopActivity/detail",t)},queryLocationTree:function(e){var t=e||{};return o.get("/cms/dict/location/selectLocationTree",t)},querySchool:function(e){var t=e||{};return o.post("/cms/dict/location/selectSchools",t)},queryCutDownList:function(e){var t=e||{};return o.get("/cms/shop/cutDown/selectCutDownList",t)},queryCutDownDetail:function(e){var t=e||{};return o.get("/cms/shop/cutDown/selectOne",t)},queryMpLogin:function(e){var t=e||{};return o.get("/wechat/mpLogin",t)},Logain:function(e){var t=e||{};return o.post("/user/login",t)},createCutDown:function(e){var t=e||{};return o.get("/cms/shop/cutDown/createCutDown",t)},helpCutDown:function(e){var t=e||{};return o.get("/cms/shop/cutDown/helpCutDown",t)},queryHelper:function(e){var t=e||{};return o.get("/cms/shop/cutDown/cutDownHelpersV2",t)},queryWXInfo:function(e){var t=e||{};return o.get("/wechat/portal/createJsapiSignature",t)},queryMycutDownList:function(e){var t=e||{};return o.get("/cms/user/userCutDown/selectUserCutDownActivityInfoPage",t)},queryDiscountList:function(e){var t=e||{};return o.get("/cms/user/coupon/selectByPage",t)},insertAddress:function(e){var t=e||{};return o.post("/cms/user/deliveryAddress/insertAddress",t)},queryAddress:function(e){var t=e||{};return o.get("/cms/user/deliveryAddress/getAddress",t)},setDefaultAddress:function(e){var t=e||{};return o.get("/cms/user/deliveryAddress/setDef",t)},delAddress:function(e){var t=e||{};return o.get("/cms/user/deliveryAddress/delAddress",t)},queryGoodsById:function(e){var t=e||{};return o.get("/cms/shop/goods/selectGoodsById",t)},qureyCutDownInfo:function(e){var t=e||{};return o.get("/cms/shop/cutDown/checkCutDownInfo",t)},createOrderNum:function(){return o.get("/order/createOrderId")},createCutPreOrder:function(e){var t=e||{};return o.post("/pay/cutDownUnifiedOrder",t)},queryOrderList:function(e){var t=e||{};return o.get("/order/getOrdersByUserId",t)},canaelOrder:function(e){var t=e||{};return o.get("/order/closeOrder",t)},queryOrderDetail:function(e){var t=e||{};return o.get("/order/getOrder",t)}};t.a=r},"d8/S":function(e,t){},e4zn:function(e,t){},gyMJ:function(e,t,n){"use strict";var o="https://tapi.tongyuenet.com",r=n("mtWM");function s(e){return{}.toString.call(e).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function c(e,t,n,c,a){return n&&(n=function e(t){for(var n in t)null===t[n]&&delete t[n],"string"===s(t[n])?t[n]=t[n].trim():"object"===s(t[n])?t[n]=e(t[n]):"array"===s(t[n])&&(t[n]=e(t[n]));return t}(n)),r({method:e,url:t,data:"POST"===e||"PUT"===e?n:null,params:"GET"===e||"DELETE"===e?n:null,baseURL:o,withCredentials:!1})}t.a={get:function(e,t,n,o){return c("GET",e,t)},post:function(e,t,n,o){return c("POST",e,t)},put:function(e,t,n,o){return c("PUT",e,t)},delete:function(e,t,n,o){return c("DELETE",e,t)}}},rqsT:function(e,t){},uKUT:function(e,t){},yYHA:function(e,t,n){"use strict";t.a=function(e,t){for(var n=[],o={},r=0,s=e.length;r<s;r++){var c=e[r][t];void 0==o[c]&&(n.push(e[r]),o[c]=!0)}return n}}},["NHnr"]);
//# sourceMappingURL=app.92ef6d80b308cf460ceb.js.map