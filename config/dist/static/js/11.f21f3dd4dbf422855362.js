webpackJsonp([11],{PpQU:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=t("WCq4"),a=t("2vt7"),d={data:function(){return{addressList:[],options:[{label:"设为默认",value:"设为默认"}],value:["设为默认"]}},beforeMount:function(){this.wxUserInfo=JSON.parse(localStorage.getItem("user")).body.wxUser,this.getSddress()},methods:{getSddress:function(){var s=this;this.$indicator.open({text:"加载中...",spinnerType:"fading-circle"});var e={userId:this.wxUserInfo.userId};n.a.queryAddress(e).then(function(e){s.$indicator.close(),e&&e.data&&e.data.body&&(s.addressList=e.data.body)})},changeDefAddress:function(s){var e=this;this.$indicator.open({text:"更新中...",spinnerType:"fading-circle"});var t={id:s,userId:this.wxUserInfo.userId};n.a.setDefaultAddress(t).then(function(s){s&&(e.$indicator.close(),e.getSddress())})},deleteAddress:function(s){var e=this;this.$indicator.open({text:"删除中...",spinnerType:"fading-circle"});var t={id:s,userId:this.wxUserInfo.userId};n.a.delAddress(t).then(function(s){s&&(e.$indicator.close(),e.getSddress())})},goAddAddr:function(){this.$router.push({name:"addAddress"})},changeOrderAddress:function(s){if(-1!==window.location.search.indexOf("orderId")){var e=s||{};this.$store.dispatch("setAddress",e);var t=Object(a.a)(window.location.search);t.address="reset",this.$router.push({name:"createOrder",query:t})}}}},i=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"content",attrs:{id:"myAddress"}},[s._l(s.addressList,function(e,n){return t("div",{staticClass:"m10 flex-column shop-name",on:{click:function(t){s.changeOrderAddress(e)}}},[t("div",{staticClass:"flex-row-start lh8"},[t("span",[s._v(s._s(e.nikeName||"--"))]),s._v(" "),t("span",[s._v("，")]),s._v(" "),t("span",[s._v(s._s(e.phone||"--"))])]),s._v(" "),t("div",{staticClass:"flex-row-start lh8"},[t("span",[s._v(s._s(e.provinceName||"--"))]),s._v(" "),t("span",[s._v(s._s(e.cityName||"--"))]),s._v(" "),t("span",[s._v(s._s(e.countyName||"--"))]),s._v(" "),t("span",[s._v(s._s(e.detailInfo||"--"))])]),s._v(" "),t("div",{staticClass:"flex-row-sb font-color-666 lh8"},[t("span",{directives:[{name:"show",rawName:"v-show",value:0===e.isDef,expression:"address.isDef === 0"}],staticClass:"iconfont icon-choose shop-name",on:{click:function(t){t.stopPropagation(),s.changeDefAddress(e.id)}}},[s._v("已设为默认")]),s._v(" "),t("span",{directives:[{name:"show",rawName:"v-show",value:1===e.isDef,expression:"address.isDef === 1"}],staticClass:"iconfont icon-no-choose shop-name",on:{click:function(t){t.stopPropagation(),s.changeDefAddress(e.id)}}},[s._v("设为默认")]),s._v(" "),t("span",{staticClass:"iconfont icon-delete",on:{click:function(t){t.stopPropagation(),s.deleteAddress(e.id)}}})]),s._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:n<s.addressList.length-1,expression:"index < addressList.length-1"}],staticClass:"address-space-line"})])}),s._v(" "),t("div",{staticClass:"add-address iconfont icon-add shop-name bor-top bg-white",on:{click:s.goAddAddr}},[s._v("增加新地址")])],2)};i._withStripped=!0;var r={render:i,staticRenderFns:[]},o=r;var c=t("VU/8")(d,o,!1,null,null,null);c.options.__file="src\\components\\content\\address\\myAddress.vue";e.default=c.exports}});
//# sourceMappingURL=11.f21f3dd4dbf422855362.js.map